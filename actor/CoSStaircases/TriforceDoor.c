#include "ultra64.h"
#include "global.h"

#define G_CELSHADING 0x00400000

u64 TriforceDoor_Beta_Triforce_Door_00_ci4[] = {
	0x0102202222222220, 0x0000003333033334, 0x4333303333000000, 0x0222222222022010, 0x0000022322233220, 0x0333333000000333, 0x3330000003333330, 0x0223322232200000, 
	0x3332566666565655, 0x5554565555552543, 0x3452555555654555, 0x5565656666652333, 0x6342666666655666, 0x6666665456555555, 0x5555556545666666, 0x6665566666662436, 
	0x7232689996555553, 0x0355522255530147, 0x7410355522255530, 0x3555556999862327, 0x7333699996564475, 0x0256443455543147, 0x7413455543446520, 0x5744656999963337, 
	0x7334688999695456, 0x3357334445243a34, 0x43a3425444337533, 0x6545969998864337, 0x7434988989899556, 0x530744555524aa37, 0x73aa425555447035, 0x6559989898894347, 
	0x7434b88997799996, 0x661055225224aa37, 0x73aa422522550166, 0x69999779988b4347, 0x43336b799b776b76, 0x692a45444233ac07, 0x70ca33244454a296, 0x67b677b997b63334, 
	0x74337b77bbbb579b, 0x78d015743342ac3b, 0xb3ca243347510d87, 0xb975bbbb77b73347, 0x74347955bb8b657b, 0x78d9a3b440400c08, 0x80c004044b3a9d87, 0xb756b8bb55974347, 
	0x743478b54788b57b, 0x7bdd0abbb7477c1b, 0xb1c7747bbba0ddb7, 0xb75b88745b874347, 0x5444788930777534, 0x57bb4c1774333ca7, 0x7ac3334771c4bb75, 0x4357770398874445, 
	0x75446888b4045733, 0x447571e350aaac11, 0x11caaa053e175744, 0x3375404b88864457, 0x7744988b8b500444, 0x45b735cc44131ca1, 0x1ac13144cc537b54, 0x444005b8b8894477, 
	0x775498bbbbb71134, 0x5588474cc3770ca1, 0x1ac0773cc4748855, 0x43117bbbbb894577, 0x44569988b788baa0, 0x47674574cc471cca, 0xacc174cc47547674, 0x0aab887b88996544, 
	0x033266b9b55b87aa, 0x054401143ec00aea, 0xaea00ce341104450, 0xaa78b55b9b662330, 0x1003666674557b6a, 0xc45117103aec1cc8, 0x8cc1cea30171154c, 0xa6b7554766663001, 
	0x1010656652527777, 0x1a33570c00cecc7d, 0xd7ccec00c07533a1, 0x7777252566560101, 0x1010625652227b77, 0x60c0553aa1aeecdd, 0xddceea1aa3550c06, 0x77b7222565260101, 
	0x3011655265665696, 0x660cc031aaace4dd, 0xdd4ecaaa130cc066, 0x6965665625561103, 0x0010656252220553, 0x2301eeaacccfc8dd, 0xdd8cfcccaaee1032, 0x3550222526560100, 
	0x0010655223330222, 0x21a31eecccef78dd, 0xdd87fecccee13a12, 0x2220333225560100, 0x4010666623221322, 0x1aa1aaefecea88dd, 0xdd88aecefeaa1aa1, 0x2231223266660104, 
	0x6200696653450250, 0x165acaceeeebb88d, 0xd88bbeeeecaca561, 0x0520543566960026, 0x6532999974452250, 0x2221ccccce3bb8dd, 0xdd8bb3eccccc1222, 0x0522544799992356, 
	0x52358899b7454465, 0x3111cccceebb88d8, 0x8d88bbeecccc1113, 0x5644547b99885325, 0x7235d8d887773043, 0xaccceccef3ffffff, 0xffffff3fecceccca, 0x340377788d8d5327, 
	0x4434d6934030accc, 0xeeeeeeefebcecccc, 0xccccecbefeeeeeee, 0xccca0304396d4344, 0x0303856b77552100, 0xaa1accef477feccc, 0xcccef774fecca1aa, 0x00125577b6583030, 
	0x0303d56b77552100, 0xaa1accfa57bafccc, 0xcccfab75afcca1aa, 0x00125577b65d3030, 0x3302d69573331aaa, 0xccaacfe77bb6eeac, 0xcaee6bb77efcaacc, 0xaaa13337596d2033, 
	0x7233d8dbb4331aaa, 0xceeeef47b9bb3eca, 0xace3bb9b74feeeec, 0xaaa1334bbd8d3327, 0x5223889bb7454465, 0x3111ec9bbbbb8cea, 0xaec8bbbbb9ce1113, 0x5644547bb9883225, 
	0x9523999974452253, 0x222ae788b89bbbec, 0xcebbb98b887ea222, 0x3522544799993259, 0x6200996653450250, 0x065e1d8bb88bb81e, 0xe18bb88bb8d1e560, 0x0520543566990026, 
	0x4011666623221322, 0x1acaddd8888b88dc, 0xcd88b8888dddaca1, 0x2231223266661104, 0x0310655523330222, 0x21c9dd8bbbb77bd3, 0x3db77bbbb8dd9c12, 0x2220333255560130, 
	0x0011656252223553, 0x231ceeffffffffff, 0xffffffffffeec132, 0x3553222526561100, 0x300a155265665696, 0x6541ca41aacececa, 0xacececaa14ac1456, 0x696566562551a003, 
	0x1001025652227b7b, 0x65ac054aaaeeaeca, 0xaceaeeaaa450ca56, 0xb7b7222565201001, 0x0013666652527776, 0x01a0773c0ceaaeaa, 0xaaeaaec0c3770a10, 0x6777252566663100, 
	0x030166667455777a, 0xc0511710aea11eaa, 0xaae11aea0171150c, 0xa777554766661030, 0x323096b9b55bb7ac, 0x15440104caa31eaa, 0xaae13aac40104451, 0xca7bb55b9b690323, 
	0x7555d988b7987aa0, 0x47b7454aa1471ea1, 0x1ae1741aa4547b74, 0x0aa7897b889d5557, 0xbb64d8bbbbb7aa44, 0x578b471c13b71ca1, 0x1ac17b31c174b875, 0x44aa7bbbbb8d46bb, 
	0xb8b4d88b8b500444, 0x45b734ca44031c11, 0x11c13044ac437b54, 0x444005b8b88d4b8b, 0xb874d888b5345743, 0x44747ae340aaac13, 0x31caaa043ea74744, 0x3475435b888d478b, 
	0xb873b88943777534, 0x577b7c1774330ca7, 0x7ac0334771c7b775, 0x43577734988b378b, 0x887048b74b88b77b, 0x7bdd41bbb7477ca8, 0x8ac7747bbb14ddb7, 0xb77b88b47b840788, 
	0x8b7bd977bb8b6576, 0x78d9a36430403c18, 0x81c30403463a9d87, 0x6756b8bb779db7b8, 0x8b7bdb77bbbb57b6, 0x5980157433420c3b, 0xb3c0243347510895, 0x6b75bbbb77bdb7b8, 
	0x88738b699bb76b76, 0x692a454442330c07, 0x70c033244454a296, 0x67b67bb996b83788, 0xdb73888997799996, 0x6610554252244a37, 0x73a4422524550166, 0x69999779988837bd, 
	0x8b74d88989899556, 0x5237445555244137, 0x7314425555447325, 0x65599898988d47b8, 0xb745d88999995457, 0x3357334445243a34, 0x43a3425444337533, 0x75459999988d547b, 
	0x8644d99996564475, 0x0256443455543147, 0x7413455543446520, 0x57446569999d4468, 0xb657889996555553, 0x3355522255520147, 0x7410255522255533, 0x355555699988756b, 
	0x877058dd999dd896, 0x988dd8888ddd8688, 0x8868ddd8888dd889, 0x698dd999dd850778, 0x6651699235255230, 0x1033324337520274, 0x4720257334233301, 0x0325525329961566, 
	0x5522552256523000, 0x2033320032223344, 0x4433222300233302, 0x0003256522552255, 0x2226656669896665, 0x5555766666699777, 0x7779966666675555, 0x5666989666566222, 
	
};

u64 TriforceDoor_Beta_Triforce_Door_00_ci4_pal_rgba16[] = {
	0x3a19425b299531d7, 0x2993215321112151, 0x18cd190f52dd210f, 0x636310cb7c299cf1, 
};

Vtx TriforceDoor_Z_TriforceDoor_mesh_layer_Opaque_vtx_cull[8] = {
	{{{-1337, -432, -1260},0, {-16, -16},{0x0, 0x0, 0x0, 0x0}}},
	{{{-1337, -432, 1111},0, {-16, -16},{0x0, 0x0, 0x0, 0x0}}},
	{{{-1337, 2130, 1111},0, {-16, -16},{0x0, 0x0, 0x0, 0x0}}},
	{{{-1337, 2130, -1260},0, {-16, -16},{0x0, 0x0, 0x0, 0x0}}},
	{{{-1337, -432, -1260},0, {-16, -16},{0x0, 0x0, 0x0, 0x0}}},
	{{{-1337, -432, 1111},0, {-16, -16},{0x0, 0x0, 0x0, 0x0}}},
	{{{-1337, 2130, 1111},0, {-16, -16},{0x0, 0x0, 0x0, 0x0}}},
	{{{-1337, 2130, -1260},0, {-16, -16},{0x0, 0x0, 0x0, 0x0}}},
};

Vtx TriforceDoor_Z_TriforceDoor_mesh_layer_Opaque_vtx_0[9] = {
	{{{-1337, 2130, 1111},0, {-16, -16},{0x96, 0xC1, 0xFF, 0x40}}},
	{{{-1337, 849, 1111},0, {-16, 1008},{0x96, 0xC1, 0xFF, 0x40}}},
	{{{-1337, 849, -74},0, {1008, 1008},{0x87, 0xB1, 0xEA, 0xFF}}},
	{{{-1337, -432, 1111},0, {-16, 2032},{0x96, 0xC1, 0xFF, 0x40}}},
	{{{-1337, -432, -74},0, {1008, 2032},{0x78, 0xA0, 0xD4, 0x40}}},
	{{{-1337, -432, -1260},0, {2032, 2032},{0x5A, 0x7E, 0xA9, 0x40}}},
	{{{-1337, 849, -1260},0, {2032, 1008},{0x78, 0xA0, 0xD4, 0x40}}},
	{{{-1337, 2130, -1260},0, {2032, -16},{0x96, 0xC1, 0xFF, 0x40}}},
	{{{-1337, 2130, -74},0, {1008, -16},{0x96, 0xC1, 0xFF, 0x40}}},
};

Gfx TriforceDoor_Z_TriforceDoor_mesh_layer_Opaque_tri_0[] = {
	gsSPVertex(TriforceDoor_Z_TriforceDoor_mesh_layer_Opaque_vtx_0 + 0, 9, 0),
	gsSP2Triangles(0, 1, 2, 0, 3, 2, 1, 0),
	gsSP2Triangles(3, 4, 2, 0, 2, 4, 5, 0),
	gsSP2Triangles(6, 2, 5, 0, 2, 6, 7, 0),
	gsSP2Triangles(2, 7, 8, 0, 8, 0, 2, 0),
	gsSPEndDisplayList(),
};

Gfx mat_TriforceDoor_TriforceDoor_layerOpaque[] = {
	gsDPPipeSync(),
	gsDPSetCombineLERP(TEXEL0, 0, SHADE, 0, 0, 0, 0, SHADE, 0, 0, 0, COMBINED, 0, 0, 0, COMBINED),
	gsSPLoadGeometryMode(G_ZBUFFER | G_SHADE | G_CULL_BACK | G_SHADING_SMOOTH),
	gsSPSetOtherMode(G_SETOTHERMODE_H, 4, 20, G_AD_DISABLE | G_CD_MAGICSQ | G_CK_NONE | G_TC_FILT | G_TF_BILERP | G_TL_TILE | G_TD_CLAMP | G_TP_PERSP | G_CYC_2CYCLE | G_PM_NPRIMITIVE),
	gsSPSetOtherMode(G_SETOTHERMODE_L, 0, 32, G_AC_THRESHOLD | G_ZS_PIXEL | AA_EN | Z_CMP | Z_UPD | CVG_DST_CLAMP | ZMODE_OPA | GBL_c1(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_IN, G_BL_1MA) | GBL_c2(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_IN, G_BL_1MA)),
	gsSPTexture(65535, 65535, 0, 0, 1),
	gsDPSetTextureLUT(G_TT_RGBA16),
	gsDPSetTextureImage(G_IM_FMT_RGBA, G_IM_SIZ_16b, 1, TriforceDoor_Beta_Triforce_Door_00_ci4_pal_rgba16),
	gsDPTileSync(),
	gsDPSetTile(0, 0, 0, 256, 7, 0, G_TX_WRAP | G_TX_NOMIRROR, 0, 0, G_TX_WRAP | G_TX_NOMIRROR, 0, 0),
	gsDPLoadSync(),
	gsDPLoadTLUTCmd(7, 15),
	gsDPPipeSync(),
	gsDPTileSync(),
	gsDPSetTextureImage(G_IM_FMT_CI, G_IM_SIZ_16b, 1, TriforceDoor_Beta_Triforce_Door_00_ci4),
	gsDPSetTile(G_IM_FMT_CI, G_IM_SIZ_16b, 0, 0, 7, 0, G_TX_CLAMP | G_TX_NOMIRROR, 6, 0, G_TX_CLAMP | G_TX_NOMIRROR, 6, 0),
	gsDPLoadSync(),
	gsDPLoadBlock(7, 0, 0, 1023, 512),
	gsDPPipeSync(),
	gsDPSetTile(G_IM_FMT_CI, G_IM_SIZ_4b, 4, 0, 0, 0, G_TX_CLAMP | G_TX_NOMIRROR, 6, 0, G_TX_CLAMP | G_TX_NOMIRROR, 6, 0),
	gsDPSetTileSize(0, 0, 0, 252, 252),
	gsSPEndDisplayList(),
};

Gfx TriforceDoor[] = {
	gsSPClearGeometryMode(G_LIGHTING),
	gsSPVertex(TriforceDoor_Z_TriforceDoor_mesh_layer_Opaque_vtx_cull + 0, 8, 0),
	gsSPCullDisplayList(0, 7),
	gsSPDisplayList(mat_TriforceDoor_TriforceDoor_layerOpaque),
	gsSPDisplayList(TriforceDoor_Z_TriforceDoor_mesh_layer_Opaque_tri_0),
	gsSPEndDisplayList(),
};

